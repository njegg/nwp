<h1 class="w-100 text-center">ğŸ¹ğŸ‘ Cock Review ğŸ‘ğŸ¹</h1>
<h2 class="w-100 text-center">Random cocktails</h2>

<h5 class="text-center w-100">
    Available in the 
    <a
        href="https://myshop.rocks/giveaways/free-cock-battlepass"
        id="haha-url"
    >
        FREE COCK BATTLE PASS
    </a>
</h5>
<!-- <app-cocktail-card-list [cocktails]="randomCocktails" /> -->

<hr>

<h3 class="w-100 text-center">Search Cocktails</h3>

<form
    name="searchForm"
    class="sticky-top rounded p-2 my-4"
    #form
>

    <!-- Radio input for selecting the filter type -->
    <div class="d-flex justify-content-center gap-3 flex-wrap mb-2">
        <div
            *ngFor="let filterType of filterTypes; let i = index"
        >
            <input
                class="position-fixed opacity-0 filter-type-radio"
                type="radio"
                id="filter-type-{{i}}"
                name="filter-type-{{i}}"
                [value]="filterType"
                [(ngModel)]="selectedFilterType"
            />
            <label
                for="filter-type-{{i}}"
                class="filter-type-label"
                (click)="resetSearchQuery()"
            >
                {{ CocktailSearchType[filterType] }}
            </label>
        </div>
    </div>

    <div class="d-flex flex-column align-items-center gap-3 my-3">
        <!-- Search by name -->
        <input
            *ngIf="selectedFilterType == CocktailSearchType.Name; else showDropdownFilters"
            class="text-center"
            type="text"
            id="search-by-name-input"
            name="fitler-name"
            [value]="searchQuery"
            [(ngModel)]="searchQuery"
        />

        <!-- Filter by dropdown value -->
        <ng-template #showDropdownFilters>
            <select
                [value]="searchQuery"
                [(ngModel)]="searchQuery"
                name="filter-dropdown"
            >
                <option></option>
                <option *ngFor="let val of dropdownFilters.get(selectedFilterType)">
                    {{ val }}
                </option>
            </select>
        </ng-template>

        <button
            (click)="searchCocktails(selectedFilterType, searchQuery)"
            class="btn btn-secondary search-button"
        >
            Search
        </button>
    </div>

    <!-- Search by first letter -->
    <div class="letter-filter-container d-flex overflow-x-scroll" >
        <span
            *ngFor="let c of letters"
            class="letter-filter mx-2"
            (click)="searchByFirstLetter(c)"
        >
            {{ c }}
        </span>
    </div>
</form>

<app-cocktail-card-list [cocktails]="cocktails" />